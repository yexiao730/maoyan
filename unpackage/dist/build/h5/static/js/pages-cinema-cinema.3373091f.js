(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-cinema-cinema"],{"039d":function(e,i,t){var n=t("3407");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=t("4f06").default;a("ca3731fa",n,!0,{sourceMap:!1,shadowMode:!1})},2291:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=c(t("cbbe")),a=(c(t("66f2")),t("2f62")),o=t("c28b"),l=c(t("6720"));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(i){r(e,i,t[i])})}return e}function r(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}var f={data:function(){return{cityIndex:-1,txtSearch:"",cinemas:[],filtercinemas:{},showCityListView:!1}},computed:s({},(0,a.mapState)(["cityName"])),onLoad:function(e){var i=this,t=new BMap.LocalCity;t.get(function(e){var t=e.name.replace("市","");"全国"==t&&(t="北京"),i.setCityName(t),i.cityIndex=n.default.findIndex(function(e){return e.nm==i.cityName}),i.getCinemaList()})},onBackPress:function(){if(this.showCityListView)return this.showCityListView=!1,!0},onHide:function(){this.showCityListView=!1},watch:{cityName:function(e){this.$store.dispatch("setCityName",this.cityName)}},methods:s({},(0,a.mapActions)(["setCityName"]),{getCinemaList:function(){var e=this;uni.showLoading({title:"正在加载"}),uni.request({url:"https://www.softeem.xin/maoyanApi/ajax/cinemaList",method:"get",data:{day:(0,o.fmtDate)(new Date),cityId:n.default[this.cityIndex].id,updateShowDay:!0,limit:20},success:function(i){e.cinemas=i.data.cinemas},complete:function(){uni.hideLoading()}})},chooseCityName:function(e){var i=this;this.setCityName(e.nm),this.cityIndex=n.default.findIndex(function(e){return e.nm==i.cityName}),this.showCityListView=!1,this.getCinemaList()}}),components:{cityListView:l.default}};i.default=f},3407:function(e,i,t){i=e.exports=t("2350")(!1),i.push([e.i,".cinamal[data-v-f64f9124]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%}.search[data-v-f64f9124]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;height:%?80?%;font-size:%?28?%;color:#000;background-color:#f5f5f5;width:100%}.search>.cityName[data-v-f64f9124]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;width:%?200?%;height:100%;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.search .searchView[data-v-f64f9124]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.search .searchView>.txtSearch[data-v-f64f9124]{border:%?3?% solid #e6e6e6;width:90%;background-color:#ececec;border-radius:5px;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 %?10?%}.city-entry-arrow[data-v-f64f9124]{width:0;height:0;border:%?8?% solid #b0b0b0;border-left-color:rgba(0,0,0,0);border-right-color:rgba(0,0,0,0);border-bottom-color:rgba(0,0,0,0);margin-left:%?4?%;margin-top:%?10?%}.topNav[data-v-f64f9124]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:%?80?%;border-bottom:1px solid #efeff4;width:100%}.topNav>uni-view[data-v-f64f9124]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-size:%?24?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;height:%?60?%;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.topNav>uni-view+uni-view[data-v-f64f9124]{border-left:1px solid #efeff4}.cinemalList[data-v-f64f9124]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 %?10?%}.cinemalList .cinemal-item[data-v-f64f9124]{font-size:%?24?%;color:grey;border-bottom:1px solid #efeff4;padding:%?15?% 0}.cinemalList .cinemal-item>uni-view[data-v-f64f9124]{padding:%?5?% 0}.cinemalList .cinemal-item .cinemal-name[data-v-f64f9124]{font-size:%?28?%;color:#000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}.cinemalList .cinemal-item .cinemal-name>uni-view[data-v-f64f9124]{color:#e54847}.cinemalList .cinemal-item .cinemal-name>uni-view>uni-text[data-v-f64f9124]{font-size:%?36?%;margin:0 %?15?%}.cinemalList .cinemal-item .cinemal-addr[data-v-f64f9124]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.cinemalList .cinemal-item .label-block[data-v-f64f9124]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:%?34?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.cinemalList .cinemal-item .label-block>uni-view[data-v-f64f9124]{position:relative;padding:0 %?6?%;height:%?30?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-size:%?20?%;border-radius:2px}.cinemalList .cinemal-item .label-block>uni-view+uni-view[data-v-f64f9124]{margin-left:5px}.cinemalList .cinemal-item .label-block .allowRefund[data-v-f64f9124],.cinemalList .cinemal-item .label-block .endorse[data-v-f64f9124],.cinemalList .cinemal-item .label-block .hallType[data-v-f64f9124]{color:#589daf;border:1px solid #589daf}.cinemalList .cinemal-item .label-block .snack[data-v-f64f9124],.cinemalList .cinemal-item .label-block .vipTag[data-v-f64f9124]{color:#f90;border:1px solid #f90}.cinemalList .cinemal-item .discount-block[data-v-f64f9124]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:%?34?%}.cinemalList .cinemal-item .discount-block .discount-block-image-view[data-v-f64f9124]{width:%?30?%;height:%?28?%}.cinemalList .cinemal-item .discount-block .discount-block-image-view>uni-image[data-v-f64f9124]{width:%?30?%;height:%?28?%;display:block}.cinemalList .cinemal-item .discount-block .discount-block-text[data-v-f64f9124]{font-sise:%?24?%;color:grey;margin-left:%?10?%}",""])},4233:function(e,i,t){"use strict";var n=t("039d"),a=t.n(n);a.a},b63c:function(e,i,t){"use strict";var n=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("v-uni-view",{staticClass:"cinamal"},[t("v-uni-view",{staticClass:"search"},[t("v-uni-view",{staticClass:"cityName",on:{click:function(i){i=e.$handleEvent(i),e.showCityListView=!0}}},[e._v(e._s(e.cityName)),t("v-uni-view",{staticClass:"city-entry-arrow"})],1),t("v-uni-view",{staticClass:"searchView"},[t("v-uni-input",{staticClass:"txtSearch",attrs:{type:"text",placeholder:"请输入搜索内容"},model:{value:e.txtSearch,callback:function(i){e.txtSearch=i},expression:"txtSearch"}})],1)],1),t("v-uni-view",{staticClass:"topNav"},[t("v-uni-view",[e._v("全城"),t("v-uni-view",{staticClass:"city-entry-arrow"})],1),t("v-uni-view",[e._v("品牌"),t("v-uni-view",{staticClass:"city-entry-arrow"})],1),t("v-uni-view",[e._v("特色"),t("v-uni-view",{staticClass:"city-entry-arrow"})],1)],1),t("v-uni-scroll-view",{staticStyle:{flex:"1",width:"100%","overflow-y":"auto"},attrs:{"scroll-y":""}},[e.showCityListView?e._e():t("v-uni-view",{staticClass:"cinemalList"},e._l(e.cinemas,function(i,n){return t("v-uni-view",{key:n,staticClass:"cinemal-item"},[t("v-uni-view",{staticClass:"cinemal-name"},[e._v(e._s(i.nm)),t("v-uni-view",{staticClass:"price"},[t("v-uni-text",[e._v(e._s(i.sellPrice))]),e._v("元起")],1)],1),t("v-uni-view",{staticClass:"cinemal-addr"},[t("v-uni-view",{staticStyle:{flex:"1"}},[e._v(e._s(i.addr))]),t("v-uni-view",{staticStyle:{width:"150upx","text-align":"right"}},[e._v(e._s(i.distance))])],1),t("v-uni-view",{staticClass:"label-block"},[1==i.tag.allowRefund?t("v-uni-view",{staticClass:"allowRefund"},[e._v("退")]):e._e(),1==i.tag.endorse?t("v-uni-view",{staticClass:"endorse"},[e._v("改签")]):e._e(),1==i.tag.snack?t("v-uni-view",{staticClass:"snack"},[e._v("小吃")]):e._e(),i.tag.vipTag?t("v-uni-view",{staticClass:"vipTag"},[e._v("折扣卡")]):e._e(),i.tag.hallType?e._l(i.tag.hallType,function(i,n){return t("v-uni-view",{key:n,staticClass:"hallType"},[e._v(e._s(i))])}):e._e()],2),i.promotion.cardPromotionTag?t("v-uni-view",{staticClass:"discount-block"},[t("v-uni-view",{staticClass:"discount-block-image-view"},[t("v-uni-image",{attrs:{src:"../../static/img/card.png",mode:"widthFix"}})],1),t("v-uni-view",{staticClass:"discount-block-text"},[e._v(e._s(i.promotion.cardPromotionTag))])],1):e._e()],1)}),1)],1),t("city-list-view",{directives:[{name:"show",rawName:"v-show",value:e.showCityListView,expression:"showCityListView"}],attrs:{cityName:e.cityName},on:{chooseCityName:function(i){i=e.$handleEvent(i),e.chooseCityName(i)}}})],1)},a=[];t.d(i,"a",function(){return n}),t.d(i,"b",function(){return a})},c28b:function(e,i,t){"use strict";function n(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";if("object"===typeof e&&e instanceof Date){var t=e.getFullYear(),n=e.getMonth()+1,a=e.getDate();return[t,n,a].join(i)}if("string"===typeof e){e=new Date(e);var o=e.getFullYear(),l=e.getMonth()+1,c=e.getDate();return[o,l,c].join(i)}return""}Object.defineProperty(i,"__esModule",{value:!0}),i.fmtDate=n},c561:function(e,i,t){"use strict";t.r(i);var n=t("b63c"),a=t("d866");for(var o in a)"default"!==o&&function(e){t.d(i,e,function(){return a[e]})}(o);t("4233");var l=t("2877"),c=Object(l["a"])(a["default"],n["a"],n["b"],!1,null,"f64f9124",null);i["default"]=c.exports},d866:function(e,i,t){"use strict";t.r(i);var n=t("2291"),a=t.n(n);for(var o in n)"default"!==o&&function(e){t.d(i,e,function(){return n[e]})}(o);i["default"]=a.a}}]);